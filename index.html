<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OVERALL COMPETENCY VIEW</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
/>

   <!-- Font Awesome Free -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inria+Serif:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
 
  <!-- Configure Tailwind to use Roboto -->
  <script>
      tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            roboto: ['"Roboto Condensed"'],
          }
        }
      }
    }
  </script>
 <script src="https://cdn.tailwindcss.com"></script>
 <script src="https://unpkg.com/alpinejs" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-roboto">
  <!-- Header -->
 <header class="bg-white shadow flex justify-between items-center px-6 py-4 fixed top-0 left-0 right-0 z-50">

    <div class="flex items-center space-x-4">
      <img src="logo.png" alt="Logo" class="h-5 w-auto object-contain" />
      <h1 class="text-xl font-bold">Assess.AI</h1>
    </div>
    <div class="space-x-2">
      <button onclick="downloadPDF()" class="border px-4 py-2 text-sm rounded hover:bg-gray-100">Download as PDF</button>
      <button class="bg-[#071D49] text-white px-4 py-2 text-sm rounded hover:bg-blue-700 disabled">Share Report</button>
    </div>
  </header>

  <!-- Main Content -->
 <main class="max-w-[90%] mx-auto pt-24 pb-8" id="pdf-content">

   <!-- Heading -->
<div class="flex flex-col md:flex-row md:items-center justify-between mb-8">
  <h2 class=" mb-4 md:mb-0 text-sm">
    <span class="text-2xl font-bold text-[#0066F5]">Hey Anmol,</span> <br> Here is your team report. Toggle between <span class="font-bold text-[#071D49]">"Competency View and Detailed View"</span>  to explore team-level insights..
  </h2>

  <!-- Toggle -->
<div class="relative flex bg-gray-200 rounded-full p-1  shadow w-[250px] h-[40px]">

  <!-- Sliding background -->
  <div id="view-slider" class="absolute top-1 left-1 bg-[#071D49] text-[#ffffff] rounded-full shadow transition-all duration-300 h-[33px] w-1/2"></div>

  <!-- Buttons -->
  <button id="CompetencyBtn" onclick="switchView('competency')" class="relative  flex flex-1 px-2 py-1 text-xs justify-center items-center rounded-full text-white font-bold z-10">
    Competency View
  </button>
  <button id="DetailedBtn" onclick="switchView('detailed')" class="relative flex flex-1 px-2 py-1 text-xs justify-center items-center rounded-full text-black font-bold z-10">
    Detailed View
  </button>
</div>

</div>
 <div id="competency-view">
    <div class="grid grid-cols-1 md:grid-cols-12 gap-6">
      <!-- Skills Assessment -->
      <div class="bg-white p-6 rounded-lg shadow-md md:col-span-6 col-span-12">
        <div class="flex justify-between items-center mb-2 flex-wrap ">
          <h3 class="text-2xl text-[#071D49]  font-bold">TEAM OVERALL COMPETENCY VIEW</h3>
          <div class="relative flex bg-gray-200 rounded-full p-1 w-max">
            <div id="slider" class="absolute top-1 left-1 bg-[#071D49] rounded-full shadow transition-all duration-300 h-[32px]"></div>
            <button id="barBtn" onclick="switchChart('bar')" class="relative px-4 py-1 text-sm rounded-full text-white font-medium z-10">Bar Chart</button>
            <button id="radarBtn" onclick="switchChart('radar')" class="relative px-4 py-1 text-sm rounded-full text-black font-medium z-10">Radar Chart</button>
          </div>
        </div>

        <div id="legends" class="flex items-center justify-end space-x-4 mt-[30px] mb-2" >
          <span class="text-[#8A2ECC] text-sm">● Team Avg. Self</span>
          <span class="text-[#071D49] text-sm">● Team Avg. Manager</span>
          <span class="text-[#0066F5] text-sm"><span class="inline-block w-2.5 h-1.5 bg-[#0066F5] mr-1.5 rotate-90"></span> Role Benchmark</span>
          <span class="text-green-900 text-sm">
  <span class="inline-block w-0 h-0 border-l-[6px] border-r-[6px] border-b-[13px] border-l-transparent border-r-transparent border-b-current mr-1.5"></span>
  Industry Benchmark
</span>

        </div>

        <!-- Chart Containers -->
        <div id="accordion-content-skills" class="transition-all duration-300 ease-in-out">
          <div id="skills-container" class="space-y-6 text-sm relative"></div>
          <div id="radarContainer" class="hidden w-[450px] h-[400px] mx-auto">
            <canvas id="radarChart" class="w-full h-full"></canvas>
          </div>
        </div>

     
    </div>
     

      <!-- Performance Summary -->
     <div class="bg-white p-6 rounded-lg shadow-md md:col-span-6">
  <h3 class="text-2xl text-[#071D49] font-bold mb-4 text-left">
    TEAM's STRENGTHS & DEVELOPMENT PRIORITIES
  </h3>

  <!-- Legend -->
  <div class="  ">
    <h3 class="text-sm font-semibold mb-2 text-gray-700">Legend</h3>
    <div class="space-y-1 text-sm">
      <div class="flex items-center space-x-2">
        <div class="w-4 h-4 bg-blue-900 rounded"></div>
        <span>% Marketer with competency rated &lt; 1 out of 3 (Gap)</span>
      </div>
      <div class="flex items-center space-x-2">
        <div class="w-4 h-4 bg-gray-300 rounded"></div>
        <span>% Marketer with competency rated between 1–2 out of 3</span>
      </div>
      <div class="flex items-center space-x-2">
        <div class="w-4 h-4 bg-blue-400 rounded"></div>
        <span>% Marketer with competency rated &gt; 2 out of 3 (Strength)</span>
      </div>
    </div>
  </div>

  <!-- Header Row -->
  <div class="grid grid-cols-12 gap-4 font-semibold text-sm text-gray-600 border-b pb-2 my-4">
    <div class="col-span-3">Skill</div>
    <div class="col-span-4 text-center">Self Rating</div>
    <div class="col-span-4 text-center">Manager Rating</div>
  </div>

  <!-- Chart rows (JS-injected content goes here) -->
  <div id="chart" class="space-y-4"></div>
</div>
</div>
   <div class="flex flex-col md:flex-row items-start gap-6 mt-6">
      <div class="bg-white p-6 rounded-lg shadow-md w-full md:w-1/2">
        <button id="accordion-toggle-strengths" class="w-full flex justify-between items-center text-lg font-semibold text-left focus:outline-none" onclick="toggleAccordion('strengths')">
          <span class="text-2xl text-[#071D49] font-bold">YOUR TEAM's TOP STRENGTHS</span>
          <svg id="accordion-arrow-strengths" class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div id="accordion-content-strengths" class="mt-4 space-y-4 transition-all duration-300 ease-in-out"></div>
      </div>

      <div class="bg-white p-6 rounded-lg shadow-md w-full md:w-1/2">
        <button id="accordion-toggle-development" class="w-full flex justify-between items-center text-lg font-semibold text-left focus:outline-none" onclick="toggleAccordion('development')">
          <span class="text-[#071D49] text-2xl font-bold">YOUR TEAM's DEVELOPMENT PRIORITIES</span>
          <svg id="accordion-arrow-development" class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div id="accordion-content-development" class="mt-4 space-y-4 transition-all duration-300 ease-in-out"></div>
      </div>
    </div>
    
    
    
     </div>

    <!-- Accordions -->
    
    <div id="detailed-view" class="hidden"> 
     <div class="max-w-full mx-auto">
    <h2 class="text-2xl text-[#071D49] font-bold mb-6">Detailed Competency Overview</h2>

    <div x-data="{ openIndex: null }">
      <!-- Accordion Items Start -->
      <template x-for="(item, index) in [
        {logo: './images/business.png',
          title: 'Business & Financial Acumen',
          score: '1.67/3',
          narrative: `The team demonstrates a solid understanding of profitability and planning processes, effectively applying them in real-world business scenarios. With continued strategic exposure and a more deeply embedded investment mindset across the group, you are well-positioned to further enhance your collective influence on brand strategy and overall business direction.`,
          subcompetencies: [
            { title: 'External Influences', score: '2/3', self: '3/3', manager: '1/3', selfWidth: '100%', managerWidth: '33%' },
            { title: 'Planning Approach', score: '1.5/3', self: '2/3', manager: '1/3', selfWidth: '66%', managerWidth: '33%' },
            { title: 'Financial Acumen', score: '1.5/3', self: '2/3', manager: '1/3', selfWidth: '40%', managerWidth: '33%' }
          ]
        },
        {logo: './images/Analysis.png',
          title: 'Analysis to Insights',
          score: '1.67/3',
          narrative: `The team has developed strong analytical acumen, consistently leveraging insights to inform marketing decisions. By further strengthening capabilities in predictive analytics and data visualization, team can amplify your cross-functional impact and drive even more informed, forward-looking strategies.`,
          subcompetencies: [
            { title: 'Patient and Customer Centricity', score: '2/3', self: '3/3', manager: '1/3', selfWidth: '100%', managerWidth: '33%' },
            { title: 'Data & Analytical Literacy', score: '1/3', self: '1/3', manager: '1/3', selfWidth: '33%', managerWidth: '33%' },
            { title: 'Data-Informed Decision Making', score: '2/3', self: '3/3', manager: '1/3', selfWidth: '100%', managerWidth: '33%' }
          ]
        },
        {logo: './images/Brandport.png',
          title: 'Brand & Portfolio Value',
          score: '2.17/3',
          narrative: `The team develops compelling, cohesive brand narratives and effectively guides portfolio-level strategy. Your collective strategic clarity and cross-brand vision contribute to sustainable success and differentiation in a highly competitive market.`,
          subcompetencies: [
            { title: 'Strategic Choices', score: '2/3', self: '2/3', manager: '2/3', selfWidth: '66%', managerWidth: '66%' },
            { title: 'Compelling Brand Story', score: '2/3', self: '1/3', manager: '3/3', selfWidth: '33%', managerWidth: '100%' },
            { title: 'Lifecycle Optimization', score: '2.5/3', self: '2/3', manager: '2/3', selfWidth: '66%', managerWidth: '66%' }
          ]
        },
        {logo: './images/stakeholder.png',
          title: 'Stakeholder Alignment',
          score: '2.3/3',
          narrative: `The team acts as a connector and integrator across functions, enabling unified and coordinated execution. Your ability to lead alignment efforts across Brand Teams and external partners fosters strategic cohesion and drives enterprise-wide impact.`,
          subcompetencies: [
            { title: 'Matrix Working', score: '3/3', self: '3/3', manager: '3/3', selfWidth: '100%', managerWidth: '100%' },
            { title: 'Cross-Functional Collaboration', score: '2/3', self: '1/3', manager: '3/3', selfWidth: '33%', managerWidth: '100%' },
            { title: 'Agency Collaboration', score: '2/3', self: '2/3', manager: '2/3', selfWidth: '66%', managerWidth: '66%' }
          ]
        },
        {logo: './images/story.png',
          title: 'Effective Storytelling',
          score: '1.67/3',
          narrative: `The team inspires through powerful storytelling that drives alignment and action. Your collective ability to craft high-impact narratives strengthens AbbVie’s presence and influence across both internal and external stakeholders.`,
          subcompetencies: [
            { title: 'Compelling Connections', score: '2/3', self: '1/3', manager: '3/3', selfWidth: '33%', managerWidth: '100%' },
            { title: 'Powerful Narratives', score: '1.5/3', self: '1/3', manager: '2/3', selfWidth: '33%', managerWidth: '66%' },
            { title: 'Driving Impact', score: '1.5/3', self: '2/3', manager: '1/3', selfWidth: '66%', managerWidth: '33%' }
          ]
        },
        {logo: './images/market.png',
          title: 'Market Access',
          score: '2/3',
          narrative: `The team effectively integrates access requirements into marketing thinking and strategy design. By further enhancing value communication through tailored, audience-specific messaging, you can strengthen support for patient access outcomes.`,
          subcompetencies: [
          { title: 'Market Access Stakeholders Impact', score: '1.5/3', self: '1/3', manager: '2/3', selfWidth: '33%', managerWidth: '66%' },
            { title: 'Pricing and Distribution', score: '2/3', self: '3/3', manager: '1/3', selfWidth: '100%', managerWidth: '33%' },
            { title: 'Marketing and Access Integration', score: '2.5/3', self: '3/3', manager: '2/3', selfWidth: '100%', managerWidth: '66%' }
          ]
        },
          {logo: './images/Personal.png',
          title: 'Personalized Marketing',
          score: '1.83/3',
          narrative: `The team designs data-driven customer journeys and delivers impactful experiences through effective use of analytics. By continuing to evolve your test-and-learn mindset and scaling personalization efforts, you can unlock even greater value across touchpoints.`,
          subcompetencies: [
            { title: 'Audience Targeting', score: '2/3', self: '2/3', manager: '2/3', selfWidth: '66%', managerWidth: '66%' },
            { title: 'Personalized Content and Channel', score: '1.5/3', self: '2/3', manager: '1/3', selfWidth: '66%', managerWidth: '33%' },
            { title: 'Customer Centric Experiences ', score: '2/3', self: '3/3', manager: '1/3', selfWidth: '100%', managerWidth: '33%' }
          ]
        }
      ]" :key="index">
        <div class="bg-white rounded-lg shadow-sm mb-4 border">
          <button
  class="w-full flex justify-between items-center p-4"
  @click="openIndex === index ? openIndex = null : openIndex = index"
>
  <div class="flex items-center space-x-4">
    <!-- Dynamic logo binding with Alpine.js -->
    <img :src="item.logo" :alt="item.title + ' logo'" class="w-[60px] h-[60px] object-contain me-[10px]" />
    <div>
      <h3 class="text-lg font-semibold text-gray-800" x-text="item.title"></h3>
      <p class="text-sm text-gray-500 text-left">
        Average Score: <span x-text="item.score"></span>
      </p>
    </div>
  </div>
  <div class="text-gray-400 text-xl" x-text="openIndex === index ? '▲' : '▼'"></div>
</button>


          <div x-show="openIndex === index" x-transition class="p-6 border-t bg-gray-50">
            <h4 class="font-semibold text-gray-700 mb-2">Competency Feedback</h4>
            <p class="text-gray-700 mb-6" x-text="item.narrative"></p>

            <h4 class="font-semibold text-gray-700 mb-4">Subcompetencies</h4>
            <div class="grid md:grid-cols-2 gap-4">
              <template x-for="(sub, i) in item.subcompetencies" :key="i">
                <div class="bg-white rounded-lg border p-4 shadow-sm">
                  <h5 class="font-semibold text-gray-800" x-text="sub.title"></h5>
                  <p class="text-sm text-gray-600 font-medium" x-text="sub.score"></p>
                  <div class="text-sm text-gray-600 mt-2">Team Avg. Self <span class="float-right" x-text="sub.self"></span></div>
                  <div class="w-full h-2 bg-gray-200 rounded">
                    <div class="bg-blue-500 h-2 rounded" :style="'width: ' + sub.selfWidth"></div>
                  </div>
                  <div class="text-sm text-gray-600 mt-2">Team Avg. Manager <span class="float-right" x-text="sub.manager"></span></div>
                  <div class="w-full h-2 bg-gray-200 rounded">
                    <div class="bg-green-500 h-2 rounded" :style="'width: ' + sub.managerWidth"></div>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>
      </template>
    </div>
  </div>
</div>
  </main>

  <script>
    const chartdata = [
      {
        skill: "BUSINESS & FINANCIAL ACUMEN",
        ae: { gap: 20, mid: 30, strength: 50 },
        dir: { gap: 20, mid: 30, strength: 50 }
      },
      {
        skill: "ANALYSIS TO INSIGHTS",
        ae: { gap: 15, mid: 45, strength: 40 },
        dir: { gap: 15, mid: 45, strength: 40 }
      },
      {
        skill: "BRAND & PORTFOLIO VALUE",
        ae: { gap: 10, mid: 40, strength: 50 },
        dir: { gap: 10, mid: 40, strength: 50 }
      },
      {
        skill: "STAKEHOLDER ALIGNMENT",
        ae: { gap: 12, mid: 38, strength: 50 },
        dir: { gap: 6, mid: 34, strength: 60 }
      },
      {
        skill: "EFFECTIVE STORYTELLING",
        ae: { gap: 5, mid: 55, strength: 40 },
        dir: { gap: 4, mid: 26, strength: 70 }
      },
      {
        skill: "MARKET ACCESS",
        ae: { gap: 8, mid: 42, strength: 50 },
        dir: { gap: 3, mid: 30, strength: 67 }
      },
      {
        skill: "PERSONALIZED MARKETING",
        ae: { gap: 10, mid: 50, strength: 40 },
        dir: { gap: 5, mid: 35, strength: 60 }
      }
    ];

    const chart = document.getElementById("chart");

    chartdata.forEach(item => {
      const row = document.createElement("div");
      row.className = "flex items-center space-x-4";

      row.innerHTML = `
        <div class="w-[400px] text-sm font-medium text-[#948979] py-2">${item.skill}</div>

        <!-- AE Bar -->
        <div class="flex w-full h-4 rounded overflow-hidden shadow-sm">
          <div class="bg-blue-900" style="width: ${item.ae.gap}%;"></div>
          <div class="bg-gray-300" style="width: ${item.ae.mid}%;"></div>
          <div class="bg-blue-400" style="width: ${item.ae.strength}%;"></div>
        </div>

        <!-- Director Bar -->
        <div class="flex w-full h-4 rounded overflow-hidden shadow-sm">
          <div class="bg-blue-900" style="width: ${item.dir.gap}%;"></div>
          <div class="bg-gray-300" style="width: ${item.dir.mid}%;"></div>
          <div class="bg-blue-400" style="width: ${item.dir.strength}%;"></div>
        </div>
      `;

      chart.appendChild(row);
    });
    const slider = document.getElementById('slider');
    const barBtn = document.getElementById('barBtn');
    const radarBtn = document.getElementById('radarBtn');
    
    let activeChart = '';
    let radarChart;

    window.onload = () => {
      activeChart = 'bar';
      updateSlider(barBtn);
      renderSkills();
    };

    function switchChart(type) {
      if (type === activeChart) return;
      activeChart = type;

      if (type === 'bar') {
        updateSlider(barBtn);
        document.getElementById('skills-container').innerHTML = '';  // Clear previous bar graph
        document.getElementById('skills-container').style.display = 'block';
        document.getElementById('radarContainer').style.display = 'none';
        barBtn?.classList.add("text-white");
 radarBtn?.classList.remove("text-white")
        renderSkills();
      } else {
        updateSlider(radarBtn);
        document.getElementById('skills-container').style.display = 'none';
        document.getElementById('radarContainer').style.display = 'block';
        barBtn?.classList.remove("text-white");
    barBtn?.classList.add("text-black");
    radarBtn?.classList.add("text-white")
        renderRadarChart();
      }
    }

    function updateSlider(targetBtn) {
      slider.style.width = targetBtn.offsetWidth + 'px';
      slider.style.left = targetBtn.offsetLeft + 'px';
      slider.style.top = targetBtn.offsetTop + 'px';
      slider.style.height = targetBtn.offsetHeight + 'px';
    }

    function downloadPDF() {
      const element = document.getElementById("pdf-content");
      const opt = { margin: 0.5, filename: 'Overall_Competency_Report.pdf', image: { type: 'jpeg', quality: 0.98 }, html2canvas: { scale: 2 }, jsPDF: { unit: 'in', format: [14, 12], orientation: 'portrait' } };
      html2pdf().from(element).set(opt).save();
    }

    const skillsData = [
      { label: "BUSINESS & FINANCIAL ACUMEN", self: 1.33, manager: 1, benchmark: 2,industrybenchmark  : 3 },
      { label: "ANALYSIS TO INSIGHTS", self: 1.33, manager: 1, benchmark: 2,industrybenchmark  : 3 },
      { label: "BRAND & PORTFOLIO VALUE", self: 1.67, manager: 1.6, benchmark: 2.5,industrybenchmark  : 3 },
      { label: "STAKEHOLDER ALIGNMENT", self: 1.5, manager: 1.7, benchmark: 2,industrybenchmark  : 3 },
      { label: "EFFECTIVE STORYTELLING", self: 1.53, manager: 1.8, benchmark: 2.5,industrybenchmark  : 3 },
      { label: "MARKET ACCESS", self: 1, manager: 1.33, benchmark: 2 ,industrybenchmark  : 3},
      { label: "PERSONALIZED MARKETING", self: 1.4, manager: 1.5, benchmark: 2.5,industrybenchmark  : 3 },
    ];

    const strengths = [
      { title: "Stakeholder Alignment", description: "The team demonstrates strong cross-functional collaboration, aligning internal teams and agency partners to ensure seamless execution. Their ability to anticipate stakeholder needs and foster productive partnerships contributes to strategic clarity and execution impact." },
      { title: "Brand & Portfolio Value", description: "The team creates compelling brand strategies grounded in market insight and customer understanding, ensuring alignment from strategy to execution and strengthening brand positioning for competitive differentiation and portfolio growth." },
      { title: "Market Access", description: "The team effectively integrates access considerations into brand planning, tailoring value communication for key stakeholders. Their ability to align pricing, reimbursement strategies, and market dynamics supports patient access and enhances overall brand success." },
     
    ];

    const development = [
      { title: "Effective Storytelling", description: "There is an opportunity to elevate team narratives by better linking data to stakeholder-specific messages that inspire action. Improving message clarity, emotional connection, and delivery across formats will amplify overall communication impact." },
      { title: "Analysis to Insights", description: "The team can further strengthen analytical capabilities by refining data interpretation and synthesizing insights that drive clear decision-making. Enhancing the use of advanced analytics and visualization will increase their strategic influence." },
       { title: "Business & Financial Acumen", description: "A stronger understanding of AbbVie’s financial drivers and decision-making frameworks will help the team align marketing strategies with business outcomes. Greater confidence in forecasting, investment trade-offs, and compliance will broaden their strategic contribution." }
    ];

    const getPosition = (value) => {
  const clamped = Math.max(1, Math.min(3, value));
  let percent = (clamped / 3) * 100;
  if (percent === 100) percent -= 3;
  return percent + "%";
};


    function renderSkills() {
      const container = document.getElementById("skills-container");
      const scaleRow = document.createElement("div");
      scaleRow.className = "grid grid-cols-6 gap-4 mb-4 text-xs text-gray-500 px-1 mt-[60px]";
      scaleRow.innerHTML = `<div class="col-span-2"></div><div class="col-span-4 relative h-5">
        <div class="absolute top-0 left-0 w-full flex justify-between text-center font-semibold text-sm text-gray-600">
          <div class="w-1/3">Foundational</div>
          <div class="w-1/3">Advanced</div>
          <div class="w-1/3">Mastery</div></div></div>`;
      container.appendChild(scaleRow);

      const verticalLines = document.createElement("div");
      verticalLines.className = "absolute top-0 left-0 w-full h-full pointer-events-none";
      verticalLines.innerHTML = `<div class="absolute top-[-20px] bottom-[27.4px] w-px border-l border-dotted border-gray-400" style="left: 55%;"></div>
        <div class="absolute top-[-20px] bottom-[27.4px] w-px border-l border-dotted border-gray-400" style="left: 76%;"></div>`;
      container.appendChild(verticalLines);

      skillsData.forEach(skill => {
        const row = document.createElement("div");
        row.className = "grid grid-cols-6 gap-4 items-center";
        const label = document.createElement("div");
        label.className = "col-span-2 font-medium border border-[#EAE4D5] text-[#948979] text-center rounded-lg px-1 py-3";
        label.textContent = skill.label;
        const graph = document.createElement("div");
        graph.className = "col-span-4 relative h-3 bg-gray-200 rounded before:content-[''] before:absolute before:top-1/2 before:left-0 before:right-0 before:border-t before:border-dotted before:border-gray-400 before:-z-0";
        graph.innerHTML = `<div class="absolute top-1/2 -translate-y-1/2 w-5 h-5 bg-[#8A2ECC] rounded-full" style="left: ${getPosition(skill.self)};"></div>
          <div class="absolute top-1/2 -translate-y-1/2 w-5 h-5 bg-[#071D49] rounded-full" style="left: ${getPosition(skill.manager)};"> </div>
          <div class="absolute top-1/2 -translate-y-1/2 w-2 h-6 bg-[#0066F5]" style="left: ${getPosition(skill.benchmark)};"></div>
          <span  class="absolute top-1/2 -translate-y-1/2 w-0 h-0 border-l-[11px] border-r-[11px] border-b-[14px] border-l-transparent border-r-transparent border-b-green-900" style="left: ${getPosition(skill.industrybenchmark)};"></span>`;
          
        row.appendChild(label);
        row.appendChild(graph);
        container.appendChild(row);
      });
    }

    function renderRadarChart() {
      const ctx = document.getElementById('radarChart').getContext('2d');
      const labels = skillsData.map(skill => skill.label);
      const selfData = skillsData.map(skill => skill.self);
      const managerData = skillsData.map(skill => skill.manager);
      const benchmarkData = skillsData.map(skill => skill.benchmark);
       const industrybenchmarkData = skillsData.map(skill => skill.industrybenchmark);

      if (radarChart) radarChart.destroy();
      radarChart = new Chart(ctx, {
        type: 'radar',
        data: { labels, datasets: [
          { label: 'Team Avg. Self', data: selfData, borderColor: '#8A2ECC', backgroundColor: 'rgba(138, 46, 204, 0.2)', pointBackgroundColor: '#8A2ECC' },
          { label: 'Team Avg. Manager', data: managerData, borderColor: '#071D49', backgroundColor: 'rgba(7, 29, 73, 0.2)', pointBackgroundColor: '#338700' },
          { label: 'Role Benchmark', data: benchmarkData, borderColor: '#0066F5', backgroundColor: 'rgba(0, 102, 245, 0.2)', pointBackgroundColor: '#0066F5' },
           { label: 'Industry Benchmark', data: industrybenchmarkData, borderColor: '#14532D ', backgroundColor: 'rgba(20, 83, 45, 0.2)', pointBackgroundColor: '#0066F5' }
        ]},
        options: {
  responsive: true,
  maintainAspectRatio: false,
  scales: {
    r: {
      min: 0,
      max: 4,
      ticks: { stepSize: 1 }
    }
  },
plugins: {
  legend: {
    position: 'bottom',
    align: 'center',
    labels: {
      padding: 19 // space between legend items
    }
  }
}
}
      });
    }

    function renderCards(data, containerId) {
      const container = document.getElementById(containerId);
      data.forEach(item => {
        const div = document.createElement("div");
        div.className = "bg-blue-50 border-l-4 border-[#071D49] p-4 rounded relative";
        div.innerHTML = `<div class="flex justify-between items-center mb-1"><span class="font-medium text-[#071D49]">${item.title}</span></div>
          <p class="text-sm text-gray-700">${item.description}</p>`;
        container.appendChild(div);
      });
    }

    const toggleAccordion = (type) => {
      const content = document.getElementById(`accordion-content-${type}`);
      const arrow = document.getElementById(`accordion-arrow-${type}`);
      content.classList.toggle("hidden");
      arrow.classList.toggle("rotate-180");
    };
function switchView(view) {
  const competencyView = document.getElementById("competency-view");
  const detailedView = document.getElementById("detailed-view");
  const CompetencyBtn = document.getElementById("CompetencyBtn");
  const DetailedBtn = document.getElementById("DetailedBtn");
  const viewSlider = document.getElementById("view-slider");
const legendBox = document.getElementById("legends");

console.log("the legend is this ",legendBox);
  if (view === 'competency') {
    competencyView?.classList.remove("hidden");
    detailedView?.classList.add("hidden");
     CompetencyBtn?.classList.add("text-white");
 DetailedBtn?.classList.remove("text-white")
      legendBox.classList.remove("hidden");
    viewSlider.style.left = '0.25rem';  // same as left-1
  } else if (view === 'detailed') {
     legendBox.classList.add("hidden"); 
    competencyView?.classList.add("hidden");
    CompetencyBtn?.classList.remove("text-white");
    CompetencyBtn?.classList.add("text-black");
    DetailedBtn?.classList.add("text-white")
    detailedView?.classList.remove("hidden");
    viewSlider.style.left = '49%';
   
legendBox.classList.add("hidden");
  }
}


    renderCards(strengths, "accordion-content-strengths");
    renderCards(development, "accordion-content-development");
  </script>
</body>
</html>
